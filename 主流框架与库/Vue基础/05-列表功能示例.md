# 列表功能示例（增删改查与筛选）

> 目标：用最少代码实现一个可搜索、可新增/删除/切换完成状态的 Todo 列表。

## 基本结构

```html
<template>
  <div class="todo">
    <input v-model.trim="text" @keyup.enter="add" placeholder="新增待办" />
    <input v-model.trim="q" placeholder="搜索" />
    <ul>
      <li v-for="item in filtered" :key="item.id">
        <label>
          <input type="checkbox" v-model="item.done" />
          <span :class="{ done: item.done }">{{ item.text }}</span>
        </label>
        <button @click="remove(item.id)">删除</button>
      </li>
    </ul>
  </div>
  <style>
    .done {
      text-decoration: line-through;
      color: #999;
    }
  </style>
</template>

<script>
  export default {
    data: () => ({
      id: 0,
      text: "",
      q: "",
      list: [],
    }),
    computed: {
      filtered() {
        const k = this.q.toLowerCase();
        return this.list.filter((x) => x.text.toLowerCase().includes(k));
      },
    },
    methods: {
      add() {
        if (!this.text) return;
        this.list.push({ id: ++this.id, text: this.text, done: false });
        this.text = "";
      },
      remove(id) {
        this.list = this.list.filter((x) => x.id !== id);
      },
    },
  };
</script>
```

## 关键点

- 使用 `v-model` 管理表单输入
- `computed` 做实时搜索过滤
- 为 `v-for` 提供稳定 `:key`

## 进阶

- 把数据持久化到 `localStorage`
- 拆分为子组件 `TodoItem`，使用自定义事件上报删除操作
